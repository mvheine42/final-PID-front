<div class="container">
    <div class="section title-section">
        <p class="title">WAITING TIMES METRICS</p>
    </div>

    <div class="dashboard-content">
        
        <div class="kpi-container">
            <div class="kpi-card">
                <div class="kpi-icon"><i class="pi pi-clock"></i></div>
                <div class="kpi-info">
                    <span class="kpi-label">Global Average</span>
                    <span class="kpi-value">{{ avgWaitTotal }}</span>
                </div>
            </div>
            <div class="kpi-card">
                <div class="kpi-icon success"><i class="pi pi-bolt"></i></div>
                <div class="kpi-info">
                    <span class="kpi-label">Fastest</span>
                    <span class="kpi-value small">{{ fastestDish }}</span>
                </div>
            </div>
            <div class="kpi-card">
                <div class="kpi-icon danger"><i class="pi pi-exclamation-circle"></i></div>
                <div class="kpi-info">
                    <span class="kpi-label">Slowest</span>
                    <span class="kpi-value small">{{ slowestDish }}</span>
                </div>
            </div>
        </div>

        <div class="chart-card full-width">
            <div class="chart-header">
                <h3>Top Products Performance</h3>
                
                <div class="filters-bar">
                    <p-multiSelect 
                        [options]="availableProducts" 
                        [(ngModel)]="selectedProducts" 
                        defaultLabel="Select Products" 
                        optionLabel="name" 
                        selectedItemsLabel="{0} items selected"
                        (onChange)="updateProductChart()"
                        [style]="{'min-width': '200px'}">
                    </p-multiSelect>

                    <p-selectButton 
                        [options]="sortOptions" 
                        [(ngModel)]="selectedSort" 
                        (onChange)="updateProductChart()">
                    </p-selectButton>
                </div>
            </div>

            <p-chart type="bar" [data]="dataProducts" [options]="optionsProducts" height="300px"></p-chart>
        </div>

        <div class="chart-card full-width mt-4">
            <h3>Daily Trend</h3>
            <p-chart type="line" [data]="dataDaily" [options]="optionsDaily" height="250px"></p-chart>
        </div>

    </div>
</div>